(function(e){function t(t){for(var n,a,s=t[0],i=t[1],l=t[2],p=0,u=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&u.push(c[a][0]),c[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==c[i]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},c={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=this["webpackJsonp"]=this["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0aa8":function(e,t,r){"use strict";var n=r("3d15");t["a"]=e=>{const t={};return e.setTriggerFunction(n["a"]((e,r)=>{const n=t[e];n&&n.forEach(e=>e(r))})),{data:()=>({worker:e,$_boundWorkerEventHandlers:null}),mounted(){if(this.$options.workerEvents){this.$_boundWorkerEventHandlers={};for(const[e,r]of Object.entries(this.$options.workerEvents)){const n=r.bind(this);this.$_boundWorkerEventHandlers[e]=n,t[e]=t[e]||[],t[e].push(n)}}},unmounted(){if(this.$options.workerEvents)for(const[e,r]of Object.entries(this.$_boundWorkerEventHandlers))t[e]=t[e].filter(e=>e!==r)}}}},"0ee0":function(e,t,r){"use strict";r("f0be")},"3dfd":function(e,t,r){"use strict";var n=r("7a23");const c=Object(n["withScopeId"])("data-v-9e7ba8aa");Object(n["pushScopeId"])("data-v-9e7ba8aa");const o={class:"main"},a=Object(n["createTextVNode"])(" TODO: plot pos data here "),s=Object(n["createTextVNode"])(" TODO: plot clusters here ");Object(n["popScopeId"])();const i=c((e,t,r,i,l,d)=>{const p=Object(n["resolveComponent"])("file-explorer"),u=Object(n["resolveComponent"])("pane"),b=Object(n["resolveComponent"])("splitpanes"),m=Object(n["resolveComponent"])("tile-wall"),f=Object(n["resolveComponent"])("file-drop");return Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])(b,{vertical:"",class:"default-theme"},{default:c(()=>[Object(n["createVNode"])(u,{size:"30"},{default:c(()=>[Object(n["createVNode"])(b,{horizontal:"",class:"default-theme"},{default:c(()=>[Object(n["createVNode"])(u,{size:"30"},{default:c(()=>[Object(n["createVNode"])(p)]),_:1}),Object(n["createVNode"])(u,{size:"35"},{default:c(()=>[a]),_:1}),Object(n["createVNode"])(u,{size:"35"},{default:c(()=>[s]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(u,{size:"70"},{default:c(()=>[Object(n["createVNode"])(m)]),_:1})]),_:1}),Object(n["createVNode"])(f)])}),l=Object(n["withScopeId"])("data-v-723f44f5");Object(n["pushScopeId"])("data-v-723f44f5");const d={key:0,class:"wrapper"},p=Object(n["createVNode"])("div",{class:"background"},[Object(n["createVNode"])("div",{class:"border"})],-1),u=Object(n["createVNode"])("div",{class:"inner-wrapper"},[Object(n["createVNode"])("div",{class:"inner"},[Object(n["createTextVNode"])(" Supported file types: "),Object(n["createVNode"])("ul",null,[Object(n["createVNode"])("li",null,[Object(n["createVNode"])("strong",null,"Axona"),Object(n["createTextVNode"])(" .set, .pos, .cut, and numbered tet files ")])])])],-1);Object(n["popScopeId"])();const b=l((e,t,r,c,o,a)=>e.dragging?(Object(n["openBlock"])(),Object(n["createBlock"])("div",d,[p,u])):Object(n["createCommentVNode"])("",!0));var m={name:"FileDrop",props:{},data:()=>({dragging:!1}),mounted(){window.fd=this,window.document.addEventListener("dragover",this.onDragOver.bind(this)),window.document.addEventListener("drop",this.onDrop.bind(this))},methods:{async onDrop(e){e.preventDefault();const t=e.dataTransfer.items?[...e.dataTransfer.items].filter(e=>"file"===e.kind).map(e=>e.getAsFile()):e.dataTransfer.files;this.dragging=!1,this.worker.addFiles(t)},onDragOver(e){e.preventDefault(),this.dragging=!0,clearTimeout(this._timer),this._timer=setTimeout(()=>this.dragging=!1,500)}}};r("dac0");m.render=b,m.__scopeId="data-v-723f44f5";var f=m;const O=Object(n["withScopeId"])("data-v-57e7b889");Object(n["pushScopeId"])("data-v-57e7b889");const j={class:"file-explorer"},h={class:"experiment-list"},v={class:"experiment-top"},k={class:"experiment-name"},N={class:"experiment-bottom"},g={class:"state-info"},x={key:1,class:"empty"},w=Object(n["createVNode"])("h4",null,"File Explorer",-1),_=Object(n["createTextVNode"])(" After dragging files onto the page, they will be listed here. ");Object(n["popScopeId"])();const y=O((e,t,r,c,o,a)=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",j,[e.experiments.length?(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])("div",h,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.experiments,t=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t.name,class:["experiment",{selected:t.name===e.selectedExperimentName}],onClick:r=>e.selectedExperimentName=t.name},[Object(n["createVNode"])("div",v,[Object(n["createVNode"])("div",k,"trial '"+Object(n["toDisplayString"])(t.name)+"'",1),t.set_file?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:"file set-file",title:t.set_file.name},Object(n["toDisplayString"])(t.set_file.short),9,["title"])):Object(n["createCommentVNode"])("",!0),t.pos_file?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:1,class:"file pos-file",title:t.pos_file.name},Object(n["toDisplayString"])(t.pos_file.short),9,["title"])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("div",N,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.tetrodes.filter(e=>!!e),t=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t.num,class:"tet-file-group",onClick:r=>e.selectedTetNum=t.num},[t.tet_file?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:["file tet-file",{small:e.selectedTetNum!==t.num}],title:t.tet_file.name},Object(n["toDisplayString"])(t.tet_file.short),11,["title"])):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.cut_files,r=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:["file cut-file",{small:e.selectedTetNum!==t.num}],key:r.name,title:r.name},Object(n["toDisplayString"])(r.short),11,["title"]))),128))],8,["onClick"]))),128))])],10,["onClick"]))),128))]),Object(n["createVNode"])("div",g," Selected trial '"+Object(n["toDisplayString"])(e.selectedExperimentName)+"', "+Object(n["toDisplayString"])(e.selectedTetNum?"tetrode #"+e.selectedTetNum:"but no tetrode selected")+". ",1)],64)):(Object(n["openBlock"])(),Object(n["createBlock"])("div",x,[w,_]))])));var V={name:"FileExplorer",props:{},workerEvents:{"update:organised-files"(e){this.experiments=e}},data:()=>({experiments:[],selectedExperimentName:null,selectedTetNum:null,selectedCutName:null}),mounted(){window.fe=this},methods:{},computed:{selectedExperiment(){return this.experiments.find(e=>e.name===this.selectedExperimentName)}},watch:{experiments(){this.experiments.length&&!this.selectedExperimentName&&(this.selectedExperimentName=this.experiments[0].name)},selectedExperiment(){if(this.selectedExperiment&&!this.selectedTetNum){const e=this.selectedExperiment.tetrodes.find(e=>!!e);this.selectedTetNum=e&&e.num}this.worker.render({experiment_name:this.selectedExperimentName,tet_num:this.selectedTetNum})},selectedTetNum(){this.worker.render({experiment_name:this.selectedExperimentName,tet_num:this.selectedTetNum})}}};r("e3e5");V.render=y,V.__scopeId="data-v-57e7b889";var T=V,B=r("512e");r("c1ea");const E={class:"tile-wall"},S=Object(n["createVNode"])("h4",null,"Tile Wall: Under Development",-1),C={ref:"theCanvas",width:"400",height:"400",style:{border:"1px solid red"}};function D(e,t,r,c,o,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div",E,[S,Object(n["createVNode"])("canvas",C,null,512)])}var F=r("3d15"),I={name:"TileWall",props:{},data:()=>({}),mounted(){window.tw=this;const e=this.$refs.theCanvas.transferControlToOffscreen();window.offCanv=e,this.worker.useTileWallCanvas(F["b"](e,[e]))},methods:{}};I.render=D;var P=I,W={name:"App",components:{FileDrop:f,FileExplorer:T,Splitpanes:B["Splitpanes"],Pane:B["Pane"],TileWall:P}};r("0ee0");W.render=i,W.__scopeId="data-v-9e7ba8aa";t["a"]=W},"56d7":function(e,t,r){"use strict";r.r(t),function(e){var t=r("7a23"),n=r("3dfd"),c=r("3d15"),o=r("0aa8");const a=c["c"](new Worker(e,void 0)),s=Object(t["createApp"])(n["a"]);s.mixin(Object(o["a"])(a)),s.mount("#app")}.call(this,r("9616"))},6263:function(e,t,r){},9616:function(e,t,r){e.exports=r.p+"js/0.d116776e.worker.js"},9912:function(e,t,r){},dac0:function(e,t,r){"use strict";r("9912")},e3e5:function(e,t,r){"use strict";r("6263")},f0be:function(e,t,r){}});
//# sourceMappingURL=app.7a6e058e.js.map